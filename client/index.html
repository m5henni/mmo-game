<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Single Player MMO Demo</title>
<style>
canvas { background: #222; display: block; margin: 0 auto; }
#chat { position: fixed; bottom: 10px; width: 100%; text-align: center; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="600"></canvas>
<div id="chat">
  <input id="chatInput" type="text" placeholder="Type chat...">
</div>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const player = { x:400, y:300, radius:10, color:'yellow' };
const mobs = [];
function spawnMob() { mobs.push({ x: Math.random()*800, y: Math.random()*600, radius:8, color:'red' }); }
setInterval(spawnMob, 5000);
const keys = {};
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);
function update() {
 if (keys['w'] || keys['ArrowUp']) player.y -= 2;
 if (keys['s'] || keys['ArrowDown']) player.y += 2;
 if (keys['a'] || keys['ArrowLeft']) player.x -= 2;
 if (keys['d'] || keys['ArrowRight']) player.x += 2;
 mobs.forEach(mob => {
   const dx = player.x - mob.x;
   const dy = player.y - mob.y;
   const dist = Math.sqrt(dx*dx+dy*dy);
   if (dist > 0) { mob.x += (dx/dist) * 1; mob.y += (dy/dist) * 1; }
 });
}
function draw() {
 ctx.clearRect(0,0,800,600);
 ctx.fillStyle = player.color;
 ctx.beginPath(); ctx.arc(player.x, player.y, player.radius, 0, 2*Math.PI); ctx.fill();
 mobs.forEach(mob => {
   ctx.fillStyle = mob.color;
   ctx.beginPath(); ctx.arc(mob.x, mob.y, mob.radius, 0, 2*Math.PI); ctx.fill();
 });
}
function loop() {
 update();
 draw();
 requestAnimationFrame(loop);
}
loop();
const chatInput = document.getElementById('chatInput');
chatInput.addEventListener('keypress', function(e) {
 if (e.key === 'Enter') {
   const msg = chatInput.value.trim();
   if (msg) alert('You said: ' + msg);
   chatInput.value = '';
 }
});
</script>
</body>
</html>
